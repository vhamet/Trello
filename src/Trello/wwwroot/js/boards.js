const stars=document.querySelectorAll(".board-link-star > div");async function updateFavoriteAsync(e,t){const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boardId:e,isFavorite:t})},n=await fetch("/Boards/UpdateFavoriteAsync",a);return await n.json()}async function handleStarClick(e){e.preventDefault(),await updateFavoriteAsync(this.dataset.id,!this.classList.contains("board-link-star-selected"))&&this.classList.toggle("board-link-star-selected")}stars.forEach(e=>e.addEventListener("click",handleStarClick));const createBoard=document.getElementById("board-create"),overlay=document.querySelector(".board-create-overlay"),cancelButton=document.getElementById("board-create-button-cancel");function showModal(){overlay.classList.add("board-create-overlay-show")}function hideModal(){overlay.classList.remove("board-create-overlay-show")}function handleCancelButtonClick(){this===cancelButton&&hideModal()}function handleOverlayClick(e){e.target.classList.contains("board-create-overlay")&&hideModal()}createBoard.addEventListener("click",showModal),cancelButton.addEventListener("click",handleCancelButtonClick),overlay.addEventListener("click",handleOverlayClick);const backgroundButtons=document.querySelectorAll(".background-button"),createBoardTitle=document.getElementById("board-create-title"),selectedBackground=document.getElementById("board-create-background-selected");function setBoardCreateBackground(e){e.target.classList.contains("background-button")&&(createBoardTitle.className="",createBoardTitle.classList.add(`background-${e.target.dataset.background}`),this.appendChild(selectedBackground))}backgroundButtons.forEach(e=>e.addEventListener("click",setBoardCreateBackground));const titleInput=document.getElementById("board-create-title-input"),createButton=document.getElementById("board-create-button-create");function enableCreateButton(){this.value?createButton.removeAttribute("disabled"):createButton.setAttribute("disabled","")}titleInput.addEventListener("input",enableCreateButton);const boardsGrid=document.getElementById("boards-grid");async function createBoardAsyncAsync(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("/Boards/CreateBoardAsync",t);return await a.json()}async function handleCreateButtonClick(){const e={Name:titleInput.value,Background:selectedBackground.parentElement.dataset.background},t=await createBoardAsyncAsync(e);if(t){titleInput.value="",hideModal(),createButton.setAttribute("disabled","");const e=document.createElement("a");e.classList.add("board-link"),e.href=`/Board/${t.id}`,e.innerHTML=`<div class="board-link-content ${t.backgroundClass}">\n    <div>\n        ${t.name}\n    </div>\n    <div class="board-link-star">\n        <div class="far fa-star" data-id="${t.id}"></div> \n    </div>\n</div>`,e.querySelector(".board-link-star > div").addEventListener("click",handleStarClick),boardsGrid.insertBefore(e,createBoard)}}createButton.addEventListener("click",handleCreateButtonClick);